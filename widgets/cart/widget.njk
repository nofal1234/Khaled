<section class="py-4 md:py-6 bg-white pt-6 md:pt-8 cart-container">
  <div class="px-2.5 md:px-6 mx-2.5 md:mx-20">
    <div x-data="xDataCart()" x-init="console.log('Cart isEmpty:', isEmpty, 'items:', globals?.cart?.items)">
      <!-- Page Title -->
      <div class="mb-4 md:mb-6 cart-title">
        <h1 class="text-xl md:text-2xl lg:text-3xl font-bold text-black" x-show="(globals?.cart?.items || []).length > 0">
          {{ t(widget.data.cart_title or 'cart_title') }}
        </h1>
      </div>
      
      <!-- Cart Section -->
      <div class="flex flex-col lg:flex-row gap-6 lg:gap-8" x-show="(globals?.cart?.items || []).length > 0">
        <!-- Right Side: Cart Items -->
        <div class="w-full lg:w-2/3">
          <!-- Mobile-friendly cart items -->
          <div class="space-y-4 md:space-y-0">
            <!-- Desktop table headers -->
            <div class="hidden md:grid grid-cols-12 gap-4 border-b border-gray-300 pb-3 cart-header">
              <div class="col-span-6 cart-item-col cart-product">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_product or 'cart_product') }}</h3>
              </div>
              <div class="col-span-2 cart-item-col cart-price">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_price or 'cart_price') }}</h3>
              </div>
              <div class="col-span-2 cart-item-col cart-quantity">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_quantity or 'cart_quantity') }}</h3>
              </div>
              <div class="col-span-2 cart-item-col cart-total">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_total or 'cart_total') }}</h3>
              </div>
            </div>
            <div>
          <template x-for="item in globals?.cart?.items || []" :key="item._id">
            <div>
              <div class="flex md:hidden justify-between items-start gap-3 pb-4 border-b border-gray-100">
                <div class="flex items-start gap-3 flex-1">
                  <img :src="item?.productData?.image?.fileUrl" :alt="item?.productData?.title" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                  <div class="flex-grow cart-item-col">
                    <p class="font-semibold text-gray-800 text-sm" x-text="item?.productData?.title"></p>
                    <p class="text-xs text-gray-500 mt-1" x-text="(item?.variantData?.options||[]).map(o=>o?.label).join(' / ')"></p>
                    <div class="flex items-center border border-gray-300 mt-3" style="width: 76px; height: 27px; border-radius: 12.77px; border-width: 0.39px; padding: 3.1px 6.19px; gap: 13px;">
                      <input type="number" class="qty-input text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" style="width: 20px;" :value="item.quantity" @input="updateQuantityFromInput(item._id, $event)" />
                      <div class="flex flex-col items-center" style="gap: 2px;">
                        <button class="text-gray-600 hover:text-gray-800" aria-label="{{ t(widget.data.cart_increase_quantity or 'cart_increase_quantity') }}" @click="increaseCartItem(item._id, item.quantity)">
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" /></svg>
                        </button>
                        <button class="text-gray-600 hover:text-gray-800" aria-label="{{ t(widget.data.cart_decrease_quantity or 'cart_decrease_quantity') }}" @click="decreaseCartItem(item._id, item.quantity)">
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 ه-3"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="flex flex-col items-end">
                  <button class="text-gray-400 hover:text-red-500 mb-2" aria-label="{{ t(widget.data.cart_remove or 'cart_remove') }}" @click="clearCartItem(item._id)">
                    <iconify-icon icon="ph:trash" class="w-5 h-5"></iconify-icon>
                  </button>
                  <div class="font-semibold text-gray-800 text-sm cart-item-price"><span x-text="item.totalPrice"></span> <span x-text="globals?.currency?.currencySymbol"></span></div>
                  <div class="text-xs text-gray-500 mt-1 cart-item-price"><span x-text="item?.price ?? item?.variantData?.price ?? item?.productData?.pricing?.price ?? item?.productData?.price"></span> <span x-text="globals?.currency?.currencySymbol"></span></div>
                </div>
              </div>
              <div class="hidden md:grid grid-cols-12 gap-4 border-b border-gray-100 pb-4 items-center">
                <div class="col-span-6 flex items-center gap-4 cart-item-col">
                  <button class="text-gray-400 hover:text-red-500" aria-label="{{ t(widget.data.cart_remove or 'cart_remove') }}" @click="clearCartItem(item._id)">
                    <iconify-icon icon="ph:trash" class="w-5 h-5"></iconify-icon>
                  </button>
                  <img :src="item?.productData?.image?.fileUrl" :alt="item?.productData?.title" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                  <div class="cart-item-col">
                    <p class="font-semibold text-gray-800" x-text="item?.productData?.title"></p>
                    <p class="text-sm text-gray-500 mt-1" x-text="(item?.variantData?.options||[]).map(o=>o?.label).join(' / ')"></p>
                  </div>
                </div>
                <div class="col-span-2 text-center cart-item-col cart-item-price">
                  <div class="font-semibold text-gray-800"><span x-text="item?.price ?? item?.variantData?.price ?? item?.productData?.pricing?.price ?? item?.productData?.price"></span> <span x-text="globals?.currency?.currencySymbol"></span></div>
                </div>
                <div class="col-span-2 flex justify-center cart-item-col cart-item-quantity">
                  <div class="flex items-center border border-gray-300 rounded-full py-0.5 px-3 w-fit">
                    <input type="number" :value="item.quantity" min="1" class="qty-input w-10 text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" @input="updateQuantityFromInput(item._id, $event)" />
                    <div class="flex flex-col items-center ml-2">
                      <button class="text-gray-600 hover:text-gray-800" aria-label="{{ t(widget.data.cart_increase_quantity or 'cart_increase_quantity') }}" @click="increaseCartItem(item._id, item.quantity)">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" /></svg>
                      </button>
                      <button class="text-gray-600 hover:text-gray-800 mt-1" aria-label="{{ t(widget.data.cart_decrease_quantity or 'cart_decrease_quantity') }}" @click="decreaseCartItem(item._id, item.quantity)">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-span-2 text-center cart-item-col cart-item-total">
                  <div class="font-semibold text-gray-800"><span x-text="item.totalPrice"></span> <span x-text="globals?.currency?.currencySymbol"></span></div>
                </div>
              </div>
            </div>
          </template>
          </div>
          {% set cartItems = widget.data.cart_items or [] %}
          {% if false %}
            <!-- Mobile headers -->
            <div class="flex md:hidden justify-between pb-3 border-b border-gray-300 mb-4 cart-header">
              <div class="cart-item-col cart-product">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_product or 'cart_product') }}</h3>
              </div>
              <div class="cart-item-col cart-price">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_price or 'cart_price') }}</h3>
              </div>
            </div>
            {% for item in cartItems %}
            <!-- Mobile: Row with image+name on left, price on right -->
            <div class="flex md:hidden justify-between items-start gap-3 pb-4 border-b border-gray-100">
              <div class="flex items-start gap-3 flex-1">
                <img src="{{ item.image }}" alt="{{ item.title }}" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                <div class="flex-grow cart-item-col">
                  <p class="font-semibold text-gray-800 text-sm">{{ item.title }}</p>
                  <p class="text-xs text-gray-500 mt-1">{{ item.size }}</p>
                  <!-- Quantity control on mobile -->
                  <div class="flex items-center border border-gray-300 mt-3" style="width: 76px; height: 27px; border-radius: 12.77px; border-width: 0.39px; padding: 3.1px 6.19px; gap: 13px;">
                    <input type="number" value="{{ item.quantity }}" min="1" class="qty-input text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" style="width: 20px;" />
                    <div class="flex flex-col items-center" style="gap: 2px;">
                      <button class="text-gray-600 hover:text-gray-800" aria-label="زيادة الكمية">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
                        </svg>
                      </button>
                      <button class="text-gray-600 hover:text-gray-800" aria-label="تقليل الكمية">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex flex-col items-end">
                <button class="text-gray-400 hover:text-red-500 mb-2" aria-label="حذف المنتج">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.54 0c-.342.052-.682.107-1.022.166m11.518 0c-3.478-.397-7.04-.397-10.518 0m10.518 0a48.1 48.1 0 0 1 3.478.397" />
                  </svg>
                </button>
                <div class="font-semibold text-gray-800 text-sm cart-item-price">€{{ (item.price * item.quantity) | round(2) }}</div>
                <div class="text-xs text-gray-500 mt-1 cart-item-price">€{{ item.price }}</div>
              </div>
            </div>
            
            <!-- Desktop: Grid layout -->
            <div class="hidden md:grid grid-cols-12 gap-4 border-b border-gray-100 pb-4 items-center">
              <!-- Product Column (6 cols) -->
              <div class="col-span-6 flex items-center gap-4 cart-item-col">
                <button class="text-gray-400 hover:text-red-500" aria-label="حذف المنتج">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.54 0c-.342.052-.682.107-1.022.166m11.518 0c-3.478-.397-7.04-.397-10.518 0m10.518 0a48.1 48.1 0 0 1 3.478.397" />
                  </svg>
                </button>
                <img src="{{ item.image }}" alt="{{ item.title }}" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                <div class="cart-item-col">
                  <p class="font-semibold text-gray-800">{{ item.title }}</p>
                  <p class="text-sm text-gray-500 mt-1">{{ item.size }}</p>
                </div>
              </div>
              <!-- Price Column (2 cols) -->
              <div class="col-span-2 text-center cart-item-col cart-item-price">
                <div class="font-semibold text-gray-800">€{{ item.price }}</div>
              </div>
              <!-- Quantity Column (2 cols) -->
              <div class="col-span-2 flex justify-center cart-item-col cart-item-quantity">
                <!-- Quantity control on desktop -->
                <div class="flex items-center border border-gray-300 rounded-full py-0.5 px-3 w-fit">
                  <input type="number" value="{{ item.quantity }}" min="1" class="qty-input w-10 text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" />
                  <div class="flex flex-col items-center ml-2">
                    <button class="text-gray-600 hover:text-gray-800" aria-label="زيادة الكمية">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
                      </svg>
                    </button>
                    <button class="text-gray-600 hover:text-gray-800 mt-1" aria-label="تقليل الكمية">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
              <!-- Total Column (2 cols) -->
              <div class="col-span-2 text-center cart-item-col cart-item-total">
                <div class="font-semibold text-gray-800">€{{ (item.price * item.quantity) | round(2) }}</div>
              </div>
            </div>
            {% endfor %}
          {% else %}
            {% set sampleProducts = [] %}
            
            {% if sampleProducts | length > 0 %}
            <div class="flex md:hidden justify-between pb-3 border-b border-gray-300 mb-4 cart-header">
              <div class="cart-item-col cart-product">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_product or 'cart_product') }}</h3>
              </div>
              <div class="cart-item-col cart-price">
                <h3 class="text-lg text-black font-bold">{{ t(widget.data.cart_price or 'cart_price') }}</h3>
              </div>
            </div>
            
            {% for item in sampleProducts %}
            <!-- Mobile: Row with image+name on left, price on right -->
            <div class="flex md:hidden justify-between items-start gap-3 pb-4 border-b border-gray-100">
              <div class="flex items-start gap-3 flex-1">
                <img src="{{ item.image }}" alt="{{ item.title }}" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                <div class="flex-grow cart-item-col">
                  <p class="font-semibold text-gray-800 text-sm">{{ item.title }}</p>
                  <p class="text-xs text-gray-500 mt-1">{{ item.size }}</p>
                  <!-- Quantity control on mobile -->
                  <div class="flex items-center border border-gray-300 mt-3" style="width: 76px; height: 27px; border-radius: 12.77px; border-width: 0.39px; padding: 3.1px 6.19px; gap: 13px;">
                    <input type="number" value="{{ item.quantity }}" min="1" class="qty-input text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" style="width: 20px;" />
                    <div class="flex flex-col items-center" style="gap: 2px;">
                      <button class="text-gray-600 hover:text-gray-800" aria-label="زيادة الكمية">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
                        </svg>
                      </button>
                      <button class="text-gray-600 hover:text-gray-800" aria-label="تقليل الكمية">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex flex-col items-end">
                <button class="text-gray-400 hover:text-red-500 mb-2" aria-label="حذف المنتج">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.54 0c-.342.052-.682.107-1.022.166m11.518 0c-3.478-.397-7.04-.397-10.518 0m10.518 0a48.1 48.1 0 0 1 3.478.397" />
                  </svg>
                </button>
                <div class="font-semibold text-gray-800 text-sm cart-item-price">€{{ (item.price * item.quantity) | round(2) }}</div>
                <div class="text-xs text-gray-500 mt-1 cart-item-price">€{{ item.price }}</div>
              </div>
            </div>
            
            <!-- Desktop: Grid layout -->
            <div class="hidden md:grid grid-cols-12 gap-4 border-b border-gray-100 pb-4 items-center">
              <!-- Product Column (6 cols) -->
              <div class="col-span-6 flex items-center gap-4 cart-item-col">
                <button class="text-gray-400 hover:text-red-500" aria-label="حذف المنتج">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.54 0c-.342.052-.682.107-1.022.166m11.518 0c-3.478-.397-7.04-.397-10.518 0m10.518 0a48.1 48.1 0 0 1 3.478.397" />
                  </svg>
                </button>
                <img src="{{ item.image }}" alt="{{ item.title }}" class="w-20 h-24 rounded-lg object-cover flex-shrink-0 border border-gray-200" />
                <div class="cart-item-col">
                  <p class="font-semibold text-gray-800">{{ item.title }}</p>
                  <p class="text-sm text-gray-500 mt-1">{{ item.size }}</p>
                </div>
              </div>
              <!-- Price Column (2 cols) -->
              <div class="col-span-2 text-center cart-item-col cart-item-price">
                <div class="font-semibold text-gray-800">€{{ item.price }}</div>
              </div>
              <!-- Quantity Column (2 cols) -->
              <div class="col-span-2 flex justify-center cart-item-col cart-item-quantity">
                <!-- Quantity control on desktop -->
                <div class="flex items-center border border-gray-300 rounded-full py-0.5 px-3 w-fit">
                  <input type="number" value="{{ item.quantity }}" min="1" class="qty-input w-10 text-center border-0 p-0 focus:ring-0 font-semibold text-gray-800" />
                  <div class="flex flex-col items-center ml-2">
                    <button class="text-gray-600 hover:text-gray-800" aria-label="زيادة الكمية">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
                      </svg>
                    </button>
                    <button class="text-gray-600 hover:text-gray-800 mt-1" aria-label="تقليل الكمية">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-3 h-3">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
              <!-- Total Column (2 cols) -->
              <div class="col-span-2 text-center cart-item-col cart-item-total">
                <div class="font-semibold text-gray-800">€{{ (item.price * item.quantity) | round(2) }}</div>
              </div>
            </div>
            {% endfor %}
            {% endif %}
          {% endif %}
        </div>
      </div>

      <!-- Left Side: Order Summary -->
      <div class="w-full lg:w-1/3" x-show="(globals?.cart?.items || []).length > 0">

        <div class="bg-[#F7F7F7] rounded-2xl p-6 sticky top-6">
          <div class="flex items-center py-5 gap-2 text-md text-gray-500">
            <i class="ph ph-package text-gray-600 flex-shrink-0"></i>
            <p>{{ t('free_shipping_compensation') }}</p>
          </div>

          <div class="space-y-3 py-4 cart-summary">
            <div class="flex items-center justify-between cart-summary-row">
              <span class="text-gray-600">{{ t('price') }}</span>
              <span class="text-gray-800"><span x-text="globals?.cart?.totalPrice || 0"></span> <span x-text="globals?.currency?.currencySymbol"></span></span>
            </div>
            <div class="flex items-center justify-between cart-summary-row">
              <span class="text-gray-600">{{ t('discount') }}</span>
              <span class="text-red-600 font-bold"><span x-text="globals?.cart?.totalSavings || 0"></span> <span x-text="globals?.currency?.currencySymbol"></span></span>
            </div>
            <div class="flex items-center justify-between cart-summary-row">
              <span class="text-gray-600">{{ t('tax') }}</span>
              <span class="text-gray-800"><span x-text="globals?.cart?.shippingPrice || 0"></span> <span x-text="globals?.currency?.currencySymbol"></span></span>
            </div>
            <div class="flex items-center justify-between pt-3 cart-summary-row">
              <span class="text-lg font-bold text-black">{{ t(widget.data.cart_total or 'cart_total') }}</span>
              <span class="text-lg font-bold text-black"><span x-text="globals?.cart?.totalPrice || 0"></span> <span x-text="globals?.currency?.currencySymbol"></span></span>
            </div>
          </div>

          <div class="mb-6">
            <label for="orderNotes" class="block text-sm font-medium text-gray-700 mb-2">{{ t('notes') }}</label>
            <textarea
              id="orderNotes"
              rows="4"
              placeholder="{{ t('add_order_notes') }}..."
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-mainColor focus:border-transparent resize-none text-sm"
            ></textarea>
          </div>

          <div class="flex items-start gap-2 mb-6">
            <input
              type="checkbox"
              id="terms"
              class="mt-1 w-4 h-4 text-mainColor border-gray-300 rounded focus:ring-mainColor"
            />
            <label for="terms" class="text-lg text-black leading-relaxed">
              {{ t('agree_to_terms') }}
            </label>
          </div>

          <button
            class="w-[403px] h-[48px] bg-black text-white font-bold pt-[10px] pr-[10px] pl-[10px] rounded-[30px] border border-black transition flex items-center justify-center gap-[10px] opacity-100 max-w-full"
            @click="checkout()"
          >
            <span class="font-medium text-[18px] leading-[150%] tracking-normal text-center" style="font-family: 'Tajawal', sans-serif;">{{ t(widget.data.cart_checkout_now or 'cart_checkout_now') }}</span>
          </button>
        </div>
      </div>

      <!-- Empty Cart Message -->
      <div x-show="(globals?.cart?.items || []).length === 0" class="flex flex-col items-center justify-center py-20 px-4 min-h-[60vh]">
        <iconify-icon icon="proicons:cart" width="80" height="80" style="transform: scaleX(-1);" class="text-gray-400 mb-6"></iconify-icon>
        <p class="text-lg md:text-xl font-semibold text-gray-700">{{ t(widget.data.cart_empty or 'cart_empty') }}</p>
      </div>

    </div>
  </div>
</section>