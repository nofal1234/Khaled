<footer class="footer bg-mainColor text-white"
  style="
    background: {{ widget.data.bg_color }};
    color: {{ widget.data.text_color }};
    {% if widget.data.footer_height %}min-height: {{ widget.data.footer_height }}px;{% endif %}
  ">
  <div
    class="container grid md:grid-cols-4 grid-cols-1 gap-6 md:gap-12 lg:gap-[89px] py-[22px] md:py-16 lg:md:pt-[96px] lg:p-[70px]">

    <div class="flex flex-col items-start">
      <img class="footer-logo object-contain"
        src="{{ widget.data.logo.fileUrl | default(globals.app.logo.fileUrl) }}"
        alt="{{ globals.app.name | default('Logo') }}"
        style="--footer-logo-sm: {{ widget.data.logo_higth_sm | default(29) }}px; --footer-logo-lg: {{ widget.data.logo_higth_lg | default(40) }}px;" />
      <div class="flex flex-col gap-4 md:gap-[30px]">
        <div class="w-full max-h-[96px] overflow-hidden break-words">
          <p class="text-[#EDEDED] md:text-base text-sm leading-[150%] line-clamp-4" style="color: {{ widget.data.text_color }};">
            {{ widget.data.app_description | safe  }}
          </p>
        </div>
        <div class="flex items-center gap-[34px]">
          {% for block in widget.blocks %}
              <a href="{{ block.data.link }}" class="w-max" target="_blank" aria-label="social link" style="color: {{ widget.data.text_color }};">
                <img src="{{ block.data.icon.fileUrl or block.data.icon }}" alt="social" class="w-7 h-7 object-contain" style="filter: brightness(0) invert(0.9);"/>
              </a>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="flex flex-col gap-4">
      <span class="md:text-xl text-lg font-bold md:leading-[140%] leading-[150%]" style="color: {{ widget.data.text_color }};">قانوني</span>
      {% for item in widget.data.policy_links %}
      <a href="{{ item.url }}" class="md:font-medium md:text-base text-sm" style="color: {{ widget.data.text_color }}; letter-spacing: 0.02em;">{{ item.title }}</a>
      {% endfor %}
    </div>

    {% if widget.data.collections | length > 0 %}
    <div class="flex flex-col gap-4 truncate">
      <span class="text-xl font-bold leading-[140%]" style="color: {{ widget.data.text_color }};">{{ t("categories") }}</span>
      {% for item in widget.data.collections %}
      <a href="/collection/{{ item.handle }}" class="md:font-medium md:text-base text-sm" style="color: {{ widget.data.text_color }};letter-spacing: 0.02em;">{{ item.title }}</a>
      {% endfor %}
    </div>
    {% endif %}

    {% if (widget.data.show_contact_location and widget.data.contact_location) or (widget.data.show_contact_email and widget.data.contact_email) or (widget.data.show_contact_phone and widget.data.contact_phone) %}
    <div class="flex flex-col gap-4">
      <span class="md:text-xl text-lg font-bold md:leading-[140%] leading-[150%]" style="color: {{ widget.data.text_color }};">تواصل معانا</span>
      {% if widget.data.show_contact_location and widget.data.contact_location %}
      <div class="flex items-center gap-2">
        <i class="ph-thin text-2xl ph-map-pin-line" style="color: {{ widget.data.text_color }};"></i>
        <a href="https://maps.google.com/?q={{ widget.data.contact_location | urlencode }}"
          class="text-sm leading-[150%] hover:underline" target="_blank" rel="noopener"
          style="color: {{ widget.data.text_color }};">
          {{ widget.data.contact_location }}
        </a>
      </div>
      {% endif %}
      {% if widget.data.show_contact_email and widget.data.contact_email %}
      <div class="flex items-center gap-2">
        <i class="ph-thin text-2xl ph-envelope-simple" style="color: {{ widget.data.text_color }};"></i>
        <a href="mailto:{{ widget.data.contact_email }}" class="text-sm leading-[150%] hover:underline"
          style="color: {{ widget.data.text_color }};">
          {{ widget.data.contact_email }}
        </a>
      </div>
      {% endif %}
      {% if widget.data.show_contact_phone and widget.data.contact_phone %}
      <div class="flex items-center gap-2">
        <i class="ph-thin text-2xl ph-phone" style="color: {{ widget.data.text_color }};"></i>
        <a href="tel:{{ widget.data.contact_phone | replace(' ', '') }}" class="text-sm leading-[150%] hover:underline"
          style="color: {{ widget.data.text_color }};">
          {{ widget.data.contact_phone }}
        </a>
      </div>
      {% endif %}
    </div>
    {% endif %}

  </div>

  <div class="flex flex-col md:flex-row gap-2 items-center justify-between container py-4">
    <div class="flex items-center gap-[14px]">
      <i class="ph-thin ph-copyright"></i>
      <span style="color: {{ widget.data.text_color }};">{{ widget.data.powered_text }}</span>
    </div>
    <img src="{{ widget.data.powered_logo }}" alt="">
  </div>
</footer>

<style>
.footer-logo {
  height: var(--footer-logo-sm);
}

@media (min-width: 768px) {
  .footer-logo {
    height: var(--footer-logo-lg);
  }
}
</style>
