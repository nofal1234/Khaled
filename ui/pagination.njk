  <!-- Pagination -->
  {% set current = (context.pagination and context.pagination.currentPage) or 1 %}
  {% set total = (context.pagination and context.pagination.totalPages) or 10 %}
  <div class="flex items-center justify-center mt-6">
    <nav class="flex items-center gap-3">
      {# Prev #}
      {% if current > 1 %}
      <a href="?page={{ current - 1 }}" class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50">
        <span class="text-gray-700">‹</span>
      </a>
      {% else %}
      <span class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-200 text-gray-400 cursor-not-allowed">‹</span>
      {% endif %}

      {# Page 1..3 #}
      {% for p in [1,2,3] %}
        {% if p <= total %}
          {% if p == current %}
          <span class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full bg-mainColor text-white">{{ p }}</span>
          {% else %}
          <a href="?page={{ p }}" class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50">{{ p }}</a>
          {% endif %}
        {% endif %}
      {% endfor %}

      {# Ellipsis and last page #}
      {% if total > 4 %}
        <span class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-200 text-gray-500">…</span>
        <a href="?page={{ total }}" class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50">{{ total }}</a>
      {% elseif total == 4 %}
        {% if 4 == current %}
        <span class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full bg-mainColor text-white">4</span>
        {% else %}
        <a href="?page=4" class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50">4</a>
        {% endif %}
      {% endif %}

      {# Next #}
      {% if current < total %}
      <a href="?page={{ current + 1 }}" class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50">
        <span class="text-gray-700">›</span>
      </a>
      {% else %}
      <span class="h-8 w-8 md:h-9 md:w-9 flex items-center justify-center rounded-full border border-gray-200 text-gray-400 cursor-not-allowed">›</span>
      {% endif %}
    </nav>
  </div>